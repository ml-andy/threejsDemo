$(document).ready(function(){function e(e){"image"==e.item.type&&(images[e.item.id]=e.result)}function t(e){var t=e.target;ss.hittestdemo_atlas_=t.getResult("hittestdemo_atlas_"),s=new lib.hittestdemo,r=new createjs.Stage(n),r.addChild(s),r.update(),l.lobsterMonster=r.addChild(new lib.lobsterMonster_mc),l.lobsterMonster.setTransform(320,480,1,1,0,0,0,0,0),a()}function a(){function e(){requestAnimationFrame(e),b.rotateOnAxis(i,o),r.update(),n.render(t,a)}var t=new THREE.Scene,a=new THREE.PerspectiveCamera(75,$("#ball_boxin").width()/$("#ball_boxin").height(),.1,1e3);l.ball=document.getElementById("ball_boxin");var n=new THREE.WebGLRenderer({canvas:l.ball,alpha:!0});n.setClearColor(0,0);var s=new THREE.SphereGeometry(l.ballradius,32,32),d=new THREE.MeshBasicMaterial;d.map=(new THREE.TextureLoader).load("images/earthmap1k.jpg"),d.bumpScale=.025;var b=new THREE.Mesh(s,d);t.add(b),b.position.x=-2.5,b.position.y=3.75,a.position.z=5,window.DeviceOrientationEvent&&window.addEventListener("deviceorientation",function(e){l.tiltLR=e.gamma,l.tiltFB=e.beta,i.set(l.tiltLR,l.tiltFB,0),o=i.length()*l.FACTOR,i.normalize(),b.position.x+=l.ballradius*l.tiltLR*l.FACTOR,b.position.y-=l.ballradius*l.tiltFB*l.FACTOR;for(var t=[{_x:320+b.position.x*l.ballrate,_y:480+b.position.y*l.ballrate*-1},{_x:320+b.position.x*l.ballrate-l.ballwidth/2,_y:480+b.position.y*l.ballrate*-1-l.ballwidth/2},{_x:320+b.position.x*l.ballrate+l.ballwidth/2,_y:480+b.position.y*l.ballrate*-1-l.ballwidth/2},{_x:320+b.position.x*l.ballrate-l.ballwidth/2,_y:480+b.position.y*l.ballrate*-1+l.ballwidth/2},{_x:320+b.position.x*l.ballrate+l.ballwidth/2,_y:480+b.position.y*l.ballrate*-1+l.ballwidth/2}],a=0;a<t.length;a++){0==a&&console.log(t[a]._y);var n=l.lobsterMonster.globalToLocal(t[a]._x,t[a]._y);if(l.lobsterMonster.hitTest(n.x,n.y)){b.position.x=l.ballinit.x,b.position.y=l.ballinit.y,alert("I'm hit !!!");break}}}),e(),l.lobsterMonster.play()}var l={};l.wrp=$(".wrapper"),l.ballx=0,l.bally=0,l.ballradius=.5,l.FACTOR=.01,l.ballwidth=80,l.ballrate=128,l.ballinit={x:-2.5,y:3.75};var i=new THREE.Vector3(1,1,0),o=i.length()*l.FACTOR;i.normalize();var n,r,s;n=document.getElementById("ball_boxup"),images=images||{},ss=ss||{};var d=new createjs.LoadQueue(!1);d.addEventListener("fileload",e),d.addEventListener("complete",t),d.loadFile({src:"images/hittestdemo_atlas_.json",type:"spritesheet",id:"hittestdemo_atlas_"},!0),d.loadManifest(lib.properties.manifest)});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsImhhbmRsZUZpbGVMb2FkIiwiZXZ0IiwiaXRlbSIsInR5cGUiLCJpbWFnZXMiLCJpZCIsInJlc3VsdCIsImhhbmRsZUNvbXBsZXRlIiwicXVldWUiLCJ0YXJnZXQiLCJzcyIsImdldFJlc3VsdCIsImV4cG9ydFJvb3QiLCJsaWIiLCJoaXR0ZXN0ZGVtbyIsInN0YWdlIiwiY3JlYXRlanMiLCJTdGFnZSIsImNhbnZhcyIsImFkZENoaWxkIiwidXBkYXRlIiwid2ViRGF0YSIsImxvYnN0ZXJNb25zdGVyIiwibG9ic3Rlck1vbnN0ZXJfbWMiLCJzZXRUcmFuc2Zvcm0iLCJSdW50aHJlZWpzIiwicmVuZGVyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZWFydGhNZXNoIiwicm90YXRlT25BeGlzIiwiYXhpcyIsImFuZ2xlIiwicmVuZGVyZXIiLCJzY2VuZSIsImNhbWVyYSIsIlRIUkVFIiwiU2NlbmUiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsIndpZHRoIiwiaGVpZ2h0IiwiYmFsbCIsImdldEVsZW1lbnRCeUlkIiwiV2ViR0xSZW5kZXJlciIsImFscGhhIiwic2V0Q2xlYXJDb2xvciIsImdlb21ldHJ5IiwiU3BoZXJlR2VvbWV0cnkiLCJiYWxscmFkaXVzIiwibWF0ZXJpYWwiLCJNZXNoQmFzaWNNYXRlcmlhbCIsIm1hcCIsIlRleHR1cmVMb2FkZXIiLCJsb2FkIiwiYnVtcFNjYWxlIiwiTWVzaCIsImFkZCIsInBvc2l0aW9uIiwieCIsInkiLCJ6Iiwid2luZG93IiwiRGV2aWNlT3JpZW50YXRpb25FdmVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudERhdGEiLCJ0aWx0TFIiLCJnYW1tYSIsInRpbHRGQiIsImJldGEiLCJzZXQiLCJsZW5ndGgiLCJGQUNUT1IiLCJub3JtYWxpemUiLCJwdExpc3QiLCJfeCIsImJhbGxyYXRlIiwiX3kiLCJiYWxsd2lkdGgiLCJpIiwiY29uc29sZSIsImxvZyIsInB0IiwiZ2xvYmFsVG9Mb2NhbCIsImhpdFRlc3QiLCJiYWxsaW5pdCIsImFsZXJ0IiwicGxheSIsIndycCIsImJhbGx4IiwiYmFsbHkiLCJWZWN0b3IzIiwibG9hZGVyIiwiTG9hZFF1ZXVlIiwibG9hZEZpbGUiLCJzcmMiLCJsb2FkTWFuaWZlc3QiLCJwcm9wZXJ0aWVzIiwibWFuaWZlc3QiXSwibWFwcGluZ3MiOiJBQUFBQSxFQUFFQyxVQUFVQyxNQUFNLFdBNkJqQixRQUFTQyxHQUFlQyxHQUNGLFNBQWpCQSxFQUFJQyxLQUFLQyxPQUFtQkMsT0FBT0gsRUFBSUMsS0FBS0csSUFBTUosRUFBSUssUUFHM0QsUUFBU0MsR0FBZU4sR0FDdkIsR0FBSU8sR0FBUVAsRUFBSVEsTUFDaEJDLElBQXVCLG1CQUFJRixFQUFNRyxVQUFVLHNCQUMzQ0MsRUFBYSxHQUFJQyxLQUFJQyxZQUVyQkMsRUFBUSxHQUFJQyxVQUFTQyxNQUFNQyxHQUMzQkgsRUFBTUksU0FBU1AsR0FDZkcsRUFBTUssU0FFTkMsRUFBUUMsZUFBaUJQLEVBQU1JLFNBQVMsR0FBSU4sS0FBSVUsbUJBQ2hERixFQUFRQyxlQUFlRSxhQUFhLElBQUksSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUt4REMsSUFHRCxRQUFTQSxLQXdFUixRQUFTQyxLQUtSQyxzQkFBdUJELEdBQ3ZCRSxFQUFVQyxhQUFhQyxFQUFLQyxHQU81QmhCLEVBQU1LLFNBRU5ZLEVBQVNOLE9BQU9PLEVBQU9DLEdBdEZ4QixHQUFJRCxHQUFRLEdBQUlFLE9BQU1DLE1BQ2xCRixFQUFTLEdBQUlDLE9BQU1FLGtCQUFtQixHQUFJeEMsRUFBRSxlQUFleUMsUUFBUXpDLEVBQUUsZUFBZTBDLFNBQVUsR0FBSyxJQUV2R2xCLEdBQVFtQixLQUFPMUMsU0FBUzJDLGVBQWUsYUFDdkMsSUFBSVQsR0FBVyxHQUFJRyxPQUFNTyxlQUFleEIsT0FBT0csRUFBUW1CLEtBQUtHLE9BQU8sR0FDbkVYLEdBQVNZLGNBQWUsRUFBVSxFQUVsQyxJQUFJ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LEdBQUlLLE9BQU1zRCxRQUFRLEVBQUUsRUFBRSxHQUM3QjFELEVBQVFELEVBQUt1QyxTQUFXaEQsRUFBUWlELE1BQ3BDeEMsR0FBS3lDLFdBRUwsSUFBSXJELEdBQVFILEVBQU9ILENBSW5CTSxHQUFTcEIsU0FBUzJDLGVBQWUsY0FDakNyQyxPQUFTQSxXQUNUTSxHQUFLQSxNQUVMLElBQUlnRixHQUFTLEdBQUkxRSxVQUFTMkUsV0FBVSxFQUNwQ0QsR0FBTzVCLGlCQUFpQixXQUFZOUQsR0FDcEMwRixFQUFPNUIsaUJBQWlCLFdBQVl2RCxHQUNwQ21GLEVBQU9FLFVBQVVDLElBQUksaUNBQWtDMUYsS0FBSyxjQUFlRSxHQUFHLHVCQUF1QixHQUNyR3FGLEVBQU9JLGFBQWFqRixJQUFJa0YsV0FBV0MiLCJmaWxlIjoiY29tbW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuXHR2YXIgd2ViRGF0YSA9e307XHJcblx0d2ViRGF0YS53cnA9JCgnLndyYXBwZXInKTtcclxuXHR3ZWJEYXRhLmJhbGx4ID0gMDtcclxuXHR3ZWJEYXRhLmJhbGx5ID0gMDtcclxuXHR3ZWJEYXRhLmJhbGxyYWRpdXMgPSAwLjU7IC8v5Y2K5b6RXHJcblx0d2ViRGF0YS5GQUNUT1IgPSAwLjAxOyAvL+mAn+W6plxyXG5cdHdlYkRhdGEuYmFsbHdpZHRoID0gODA7IC8v6YCZ5piv55uu5risXHJcblx0d2ViRGF0YS5iYWxscmF0ZSA9IDEyODsvL+ebrua4rOi3nembouaPm+eul+aIkHBpeGVs55qE5q+U5L6LXHJcblx0d2ViRGF0YS5iYWxsaW5pdCA9IHt4Oi0yLjUseTozLjc1fTtcclxuXHJcblx0dmFyIGF4aXMgPSBuZXcgVEhSRUUuVmVjdG9yMygxLDEsMCk7XHJcblx0dmFyIGFuZ2xlID0gYXhpcy5sZW5ndGgoKSAqIHdlYkRhdGEuRkFDVE9SO1xyXG5cdGF4aXMubm9ybWFsaXplKCk7XHJcblxyXG5cdHZhciBjYW52YXMsIHN0YWdlLCBleHBvcnRSb290O1xyXG5cdHZhciBmYWtlYmFsbHggPSAwLFxyXG5cdCAgICBmYWtlYmFsbHkgPSAwO1xyXG5cclxuXHRjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhbGxfYm94dXBcIik7XHJcblx0aW1hZ2VzID0gaW1hZ2VzfHx7fTtcclxuXHRzcyA9IHNzfHx7fTtcclxuXHJcblx0dmFyIGxvYWRlciA9IG5ldyBjcmVhdGVqcy5Mb2FkUXVldWUoZmFsc2UpO1xyXG5cdGxvYWRlci5hZGRFdmVudExpc3RlbmVyKFwiZmlsZWxvYWRcIiwgaGFuZGxlRmlsZUxvYWQpO1xyXG5cdGxvYWRlci5hZGRFdmVudExpc3RlbmVyKFwiY29tcGxldGVcIiwgaGFuZGxlQ29tcGxldGUpO1xyXG5cdGxvYWRlci5sb2FkRmlsZSh7c3JjOlwiaW1hZ2VzL2hpdHRlc3RkZW1vX2F0bGFzXy5qc29uXCIsIHR5cGU6XCJzcHJpdGVzaGVldFwiLCBpZDpcImhpdHRlc3RkZW1vX2F0bGFzX1wifSwgdHJ1ZSk7XHJcblx0bG9hZGVyLmxvYWRNYW5pZmVzdChsaWIucHJvcGVydGllcy5tYW5pZmVzdCk7XHJcblxyXG5cdGZ1bmN0aW9uIGhhbmRsZUZpbGVMb2FkKGV2dCkge1xyXG5cdFx0aWYgKGV2dC5pdGVtLnR5cGUgPT0gXCJpbWFnZVwiKSB7IGltYWdlc1tldnQuaXRlbS5pZF0gPSBldnQucmVzdWx0OyB9XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBoYW5kbGVDb21wbGV0ZShldnQpIHtcclxuXHRcdHZhciBxdWV1ZSA9IGV2dC50YXJnZXQ7XHJcblx0XHRzc1tcImhpdHRlc3RkZW1vX2F0bGFzX1wiXSA9IHF1ZXVlLmdldFJlc3VsdChcImhpdHRlc3RkZW1vX2F0bGFzX1wiKTtcclxuXHRcdGV4cG9ydFJvb3QgPSBuZXcgbGliLmhpdHRlc3RkZW1vKCk7XHJcblxyXG5cdFx0c3RhZ2UgPSBuZXcgY3JlYXRlanMuU3RhZ2UoY2FudmFzKTtcclxuXHRcdHN0YWdlLmFkZENoaWxkKGV4cG9ydFJvb3QpO1xyXG5cdFx0c3RhZ2UudXBkYXRlKCk7XHJcblxyXG5cdFx0d2ViRGF0YS5sb2JzdGVyTW9uc3RlciA9IHN0YWdlLmFkZENoaWxkKG5ldyBsaWIubG9ic3Rlck1vbnN0ZXJfbWMoKSk7XHJcblx0XHR3ZWJEYXRhLmxvYnN0ZXJNb25zdGVyLnNldFRyYW5zZm9ybSgzMjAsNDgwLDEsMSwwLDAsMCwwLDApO1xyXG5cdFx0Ly8gd2ViRGF0YS5iYWxsXzEgPSBzdGFnZS5hZGRDaGlsZChuZXcgbGliLmJhbGxfMSgpKTtcclxuXHRcdC8vIHdlYkRhdGEuYmFsbF8xLnNldFRyYW5zZm9ybSgwLDAsMSwxLDAsMCwwLDAsMCk7XHJcblxyXG5cdFx0XHJcblx0XHRSdW50aHJlZWpzKCk7XHRcdFxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gUnVudGhyZWVqcygpe1xyXG5cdFx0dmFyIHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XHJcblx0XHR2YXIgY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKCA3NSwgJCgnI2JhbGxfYm94aW4nKS53aWR0aCgpLyQoJyNiYWxsX2JveGluJykuaGVpZ2h0KCksIDAuMSwgMTAwMCApO1xyXG5cclxuXHRcdHdlYkRhdGEuYmFsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmFsbF9ib3hpblwiKTtcclxuXHRcdHZhciByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtjYW52YXM6d2ViRGF0YS5iYWxsLGFscGhhOiB0cnVlfSk7XHJcblx0XHRyZW5kZXJlci5zZXRDbGVhckNvbG9yKCAweDAwMDAwMCwgMCApOyBcclxuXHJcblx0XHR2YXIgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoIHdlYkRhdGEuYmFsbHJhZGl1cywgMzIsIDMyICk7XHJcblx0XHR2YXIgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoKTtcclxuXHRcdG1hdGVyaWFsLm1hcCA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCgnaW1hZ2VzL2VhcnRobWFwMWsuanBnJyk7XHJcblx0XHRtYXRlcmlhbC5idW1wU2NhbGUgPSAwLjAyNTtcclxuXHRcdHZhciBlYXJ0aE1lc2ggPSBuZXcgVEhSRUUuTWVzaCggZ2VvbWV0cnksIG1hdGVyaWFsICk7XHRcdFxyXG5cdFx0c2NlbmUuYWRkKCBlYXJ0aE1lc2ggKTtcclxuXHRcdGVhcnRoTWVzaC5wb3NpdGlvbi54ID0gLTIuNTtcclxuXHRcdGVhcnRoTWVzaC5wb3NpdGlvbi55ID0gMy43NTtcclxuXHRcdGNhbWVyYS5wb3NpdGlvbi56ID0gNTtcclxuXHJcblx0XHQvLyAkKHdpbmRvdykub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oZSl7XHRcdFx0XHJcblx0XHQvLyBcdGlmKGUua2V5Q29kZT09MzcpIGVhcnRoTWVzaC5wb3NpdGlvbi54LT0wLjE7XHJcblx0XHQvLyBcdGVsc2UgaWYoZS5rZXlDb2RlPT0zOSkgZWFydGhNZXNoLnBvc2l0aW9uLngrPTAuMTtcclxuXHRcdC8vIFx0ZWxzZSBpZihlLmtleUNvZGU9PTM4KSBlYXJ0aE1lc2gucG9zaXRpb24ueS09MC4xO1xyXG5cdFx0Ly8gXHRlbHNlIGlmKGUua2V5Q29kZT09NDApIGVhcnRoTWVzaC5wb3NpdGlvbi55Kz0wLjE7XHJcblx0XHQvLyB9KTtcclxuXHRcdFxyXG5cdFx0aWYgKHdpbmRvdy5EZXZpY2VPcmllbnRhdGlvbkV2ZW50KSB7XHRcdFxyXG5cdCAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2RldmljZW9yaWVudGF0aW9uJywgZnVuY3Rpb24oZXZlbnREYXRhKSB7XHJcblx0XHRcdFx0d2ViRGF0YS50aWx0TFIgPSBldmVudERhdGEuZ2FtbWE7XHJcblx0XHRcdFx0d2ViRGF0YS50aWx0RkIgPSBldmVudERhdGEuYmV0YTtcclxuXHRcdFx0XHRheGlzLnNldCh3ZWJEYXRhLnRpbHRMUiwgd2ViRGF0YS50aWx0RkIsIDApO1xyXG5cdFx0XHRcdGFuZ2xlID0gYXhpcy5sZW5ndGgoKSAqIHdlYkRhdGEuRkFDVE9SO1xyXG5cdFx0XHRcdGF4aXMubm9ybWFsaXplKCk7XHJcblx0XHRcdFx0Ly8gJCgnLmxyJykuaHRtbChlYXJ0aE1lc2gucG9zaXRpb24ueCk7XHJcblx0XHRcdFx0Ly8gJCgnLmZiJykuaHRtbChlYXJ0aE1lc2gucG9zaXRpb24ueSk7XHJcblx0XHRcdFx0ZWFydGhNZXNoLnBvc2l0aW9uLnggKz0gd2ViRGF0YS5iYWxscmFkaXVzKndlYkRhdGEudGlsdExSKndlYkRhdGEuRkFDVE9SO1xyXG5cdFx0XHRcdGVhcnRoTWVzaC5wb3NpdGlvbi55IC09IHdlYkRhdGEuYmFsbHJhZGl1cyp3ZWJEYXRhLnRpbHRGQip3ZWJEYXRhLkZBQ1RPUjtcclxuXHJcblx0XHRcdFx0dmFyIHB0TGlzdCA9IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0X3g6MzIwK2VhcnRoTWVzaC5wb3NpdGlvbi54KndlYkRhdGEuYmFsbHJhdGUsXHJcblx0XHRcdFx0XHRcdF95OjQ4MCtlYXJ0aE1lc2gucG9zaXRpb24ueSp3ZWJEYXRhLmJhbGxyYXRlKi0xXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRfeDozMjArZWFydGhNZXNoLnBvc2l0aW9uLngqd2ViRGF0YS5iYWxscmF0ZSAtIHdlYkRhdGEuYmFsbHdpZHRoLzIsXHJcblx0XHRcdFx0XHRcdF95OjQ4MCtlYXJ0aE1lc2gucG9zaXRpb24ueSp3ZWJEYXRhLmJhbGxyYXRlKi0xIC0gd2ViRGF0YS5iYWxsd2lkdGgvMlxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0X3g6MzIwK2VhcnRoTWVzaC5wb3NpdGlvbi54KndlYkRhdGEuYmFsbHJhdGUgKyB3ZWJEYXRhLmJhbGx3aWR0aC8yLFxyXG5cdFx0XHRcdFx0XHRfeTo0ODArZWFydGhNZXNoLnBvc2l0aW9uLnkqd2ViRGF0YS5iYWxscmF0ZSotMSAtIHdlYkRhdGEuYmFsbHdpZHRoLzJcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdF94OjMyMCtlYXJ0aE1lc2gucG9zaXRpb24ueCp3ZWJEYXRhLmJhbGxyYXRlIC0gd2ViRGF0YS5iYWxsd2lkdGgvMixcclxuXHRcdFx0XHRcdFx0X3k6NDgwK2VhcnRoTWVzaC5wb3NpdGlvbi55KndlYkRhdGEuYmFsbHJhdGUqLTEgKyB3ZWJEYXRhLmJhbGx3aWR0aC8yXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRfeDozMjArZWFydGhNZXNoLnBvc2l0aW9uLngqd2ViRGF0YS5iYWxscmF0ZSArIHdlYkRhdGEuYmFsbHdpZHRoLzIsXHJcblx0XHRcdFx0XHRcdF95OjQ4MCtlYXJ0aE1lc2gucG9zaXRpb24ueSp3ZWJEYXRhLmJhbGxyYXRlKi0xICsgd2ViRGF0YS5iYWxsd2lkdGgvMlxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdF07XHJcblx0XHRcdFx0Zm9yKHZhciBpPTA7aTxwdExpc3QubGVuZ3RoO2krKyl7XHRcdFx0XHRcclxuXHRcdFx0XHRcdGlmKGk9PTApIGNvbnNvbGUubG9nKHB0TGlzdFtpXS5feSk7XHJcblx0XHRcdFx0XHR2YXIgcHQgPSB3ZWJEYXRhLmxvYnN0ZXJNb25zdGVyLmdsb2JhbFRvTG9jYWwocHRMaXN0W2ldLl94LHB0TGlzdFtpXS5feSk7XHJcblx0XHRcdFx0XHRpZiAod2ViRGF0YS5sb2JzdGVyTW9uc3Rlci5oaXRUZXN0KHB0LngsIHB0LnkpKXtcclxuXHRcdFx0XHRcdFx0ZWFydGhNZXNoLnBvc2l0aW9uLnggPSB3ZWJEYXRhLmJhbGxpbml0Lng7XHJcblx0XHRcdFx0XHRcdGVhcnRoTWVzaC5wb3NpdGlvbi55ID0gd2ViRGF0YS5iYWxsaW5pdC55O1xyXG5cdFx0XHRcdFx0XHRhbGVydChcIkknbSBoaXQgISEhXCIpO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0ICAgICAgICB9KTtcclxuXHQgICAgfVxyXG5cclxuXHRcdGZ1bmN0aW9uIHJlbmRlcigpIHtcclxuXHRcdFx0Ly90aHJlZWpzXHJcblx0XHRcdC8vIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG5cdFx0IC8vICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIHJlbmRlciApO1xyXG5cdFx0IC8vICAgIH0sIDEwMDAgLyAzMCApO1xyXG5cdFx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIHJlbmRlciApO1xyXG5cdFx0XHRlYXJ0aE1lc2gucm90YXRlT25BeGlzKGF4aXMsYW5nbGUpO1xyXG5cdFx0XHQvLyBlYXJ0aE1lc2guc2NhbGUueCA9IDAuNTtcclxuXHJcblx0XHRcdC8vY3JlYXRlanNcclxuXHRcdFx0Ly8gd2ViRGF0YS5iYWxsXzEueD1mYWtlYmFsbHg7XHJcblx0XHRcdC8vIHdlYkRhdGEuYmFsbF8xLnk9ZmFrZWJhbGx5O1xyXG5cclxuXHRcdFx0c3RhZ2UudXBkYXRlKCk7XHJcblxyXG5cdFx0XHRyZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7XHJcblx0XHR9O1xyXG5cdFx0cmVuZGVyKCk7XHJcblx0XHR3ZWJEYXRhLmxvYnN0ZXJNb25zdGVyLnBsYXkoKTtcclxuXHR9XHJcblx0XHJcbiAgXHJcblx0XHJcbn0pLy9yZWFkeSBlbmQgIFxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
